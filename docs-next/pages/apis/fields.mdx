import { Markdown } from '../../components/Page';

# Fields API

The `fields` option of a [list configuration](./schema) defines the names, types, and configuration of the fields in the list.
This configuration option takes an object with field names as keys, and configured field types as values.

This document covers the different field types which are available and the configuration options they accept.
To see how to access fields in the GraphQL API please see the [GraphQL API](./graphql) docs.

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import {
  // Scalar types
  checkbox,
  integer,
  password,
  select,
  text,
  timestamp,
  // Relationship type
  relationship,
  // Index types
  autoincrement,
  mongoId,
  // Virtual type
  virtual,
} from '@keystone-next/fields';

// Complex types
import { document } from '@keystone-next/fields-document';
import { cloudinary } from '@keystone-next/cloudinary';

export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: text({ ... }),
        ...
      },
    }),
    ...
  }),
  ...
});
```

## Common configuration

All field types accept a common set of configuration options.
All options are optional.

Options:

- `access`: Defines the [Access Control](../guides/access-control) rules for the field.
  See the [Access Control API](./access-control) for full details on the available access control options.
- `hooks`: The `hooks` option defines [hook](../guides/hooks) functions for the field.
  Hooks allow you to execute code at different stages of the mutation lifecycle.
  See the [Hooks API](./hooks) for full details on the available hook options.
- `label`: The label displayed for this field in the Admin UI. Defaults to a human readable version of the field name.
- `ui`: Controls how the field is displayed in the Admin UI.
  - `views`:
  - `description`: (coming soon)
  - `createView`: (coming soon)
  - `listView`: (coming soon)
  - `itemView`: (coming soon)

```typescript
export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: text({
          access: { ... },
          hooks: { ... },
          label: '...',
          ui: {
            views: '...',
            description: '...',
            createView: {
              fieldMode: ({ session }) => 'edit',
            },
            listView: {
              fieldMode: ({ session }) => 'read',
            },
            itemView: {
              fieldMode: ({ session, item }) => 'read',
            },
          },
        }),
        ...
      },
    }),
    ...
  }),
  ...
});
```

## Scalar types

### `checkbox`

(coming soon)

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import { checkbox } from '@keystone-next/fields';

export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: checkbox({
          defaultValue: true,
          isRequired: true
         }),
        ...
      },
    }),
    ...
  }),
  ...
});
```

### `integer`

(coming soon)

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import { integer } from '@keystone-next/fields';

export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: integer({
          defaultValue: 0,
          isRequired: true,
          isIndexed: true,
          isUnique: true,
         }),
        ...
      },
    }),
    ...
  }),
  ...
});
```

### `password`

(coming soon)

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import { password } from '@keystone-next/fields';

export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: password({
          isRequired: true,
          minLength: 10,
          bcrypt: 'compare,
         }),
        ...
      },
    }),
    ...
  }),
  ...
});
```

### `select`

(coming soon)

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import { select } from '@keystone-next/fields';

export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: select({
          dataType: 'enum',
          options: [
            { label: '...', value: '...' },
            ...
          ],
          defaultValue: '...',
          isRequired: true,
          isIndexed: true,
          isUnique: true,
          ui: { displayMode: 'select' },
         }),
        ...
      },
    }),
    ...
  }),
  ...
});
```

### `text`

(coming soon)

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import { text } from '@keystone-next/fields';

export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: text({
          defaultValue: '...',
          isRequired: true,
          isIndexed: true,
          isUnique: true,
          ui: { displayMode: 'input' },
         }),
        ...
      },
    }),
    ...
  }),
  ...
});
```

### `timestamp`

(coming soon)

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import { timestamp } from '@keystone-next/fields';

export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: timestamp({
          defaultValue: '...',
          isRequired: true,
          isIndexed: true,
          isUnique: true,
         }),
        ...
      },
    }),
    ...
  }),
  ...
});
```

## Relationship type

### `relationship`

(coming soon)

## Index types

### `autoincrement`

(coming soon)

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import { autoincrement } from '@keystone-next/fields';

export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: autoincrement({
          defaultValue: 0,
          isRequired: true,
          isIndexed: true,
          isUnique: true,
         }),
        ...
      },
    }),
    ...
  }),
  ...
});
```

### `mongoId`

(coming soon)

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import { mongoId } from '@keystone-next/fields';

export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: mongoId({
          defaultValue: '...',
          isRequired: true,
          isIndexed: true,
          isUnique: true,
         }),
        ...
      },
    }),
    ...
  }),
  ...
});
```

## Virtual type

### `virtual`

(coming soon)

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import { mongoId } from '@keystone-next/fields';

export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: mongoId({
          resolver: () => {},
          graphQLReturnType: '...',
          graphQLReturnFragment: '...',
          extendGraphQLTypes: '...',
          args: [
            { name: '...', type: '...' },
            ...
          ]
         }),
        ...
      },
    }),
    ...
  }),
  ...
});
```

## Complex types

### `document`

(coming soon)

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import { document } from '@keystone-next/fields-document';

export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: document({
          relationships: { ... };
          componentBlocks: {
            block: { ... },
            ...
          };
          formatting: {...};
          links: true,
          dividers: true,
          layouts: [...],
         }),
        ...
      },
    }),
    ...
  }),
  ...
});
```

### `cloudinary`

(coming soon)

```typescript
import { config, createSchema, list } from '@keystone-next/keystone/schema';
import { cloudinary } from '@keystone-next/cloudinary';

export default config({
  lists: createSchema({
    ListName: list({
      fields: {
        fieldName: cloudinary({
          isRequired: true,
          cloudinary: {
            cloudName: process.env.CLOUDINARY_CLOUD_NAME,
            apiKey: process.env.CLOUDINARY_API_KEY;
            apiSecret: process.env.CLOUDINARY_API_SECRET,
            folder: process.env.CLOUDINARY_API_FOLDER,
          }
         }),
        ...
      },
    }),
    ...
  }),
  ...
});
```

export default ({ children }) => <Markdown>{children}</Markdown>;
